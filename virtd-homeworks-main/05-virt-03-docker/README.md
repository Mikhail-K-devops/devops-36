
# Домашнее задание к занятию 3. «Введение. Экосистема. Архитектура. Жизненный цикл Docker-контейнера»

## Как сдавать задания

Обязательны к выполнению задачи без звёздочки. Их нужно выполнить, чтобы получить зачёт и диплом о профессиональной переподготовке.

Задачи со звёздочкой (*) — дополнительные задачи и/или задачи повышенной сложности. Их выполнять не обязательно, но они помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в GitHub-репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---


## Важно

**Перед началом работы над дипломным заданием изучите [Инструкция по экономии облачных ресурсов](https://github.com/netology-code/devops-materials/blob/master/cloudwork.MD).**

Перед отправкой работы на проверку удаляйте неиспользуемые ресурсы.
Это нужно, чтобы не расходовать средства, полученные в результате использования промокода.

Подробные рекомендации [здесь](https://github.com/netology-code/virt-homeworks/blob/virt-11/r/README.md).

---

## Задача 1

Сценарий выполнения задачи:

- создайте свой репозиторий на https://hub.docker.com;
- выберите любой образ, который содержит веб-сервер Nginx;
- создайте свой fork образа;
- реализуйте функциональность:
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```

Опубликуйте созданный fork в своём репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

***

> ### Mikhail K
> [devmikhailk docker nginx repo](https://hub.docker.com/r/devmikhailk/nginx/tags)
> ![nginx in elinks](/_task1/nginx.png "elinks view")
>
> ![push to docker repo](/_task1/docker_push_console.png "push to docker repo")

***

## Задача 2

Посмотрите на сценарий ниже и ответьте на вопрос:
«Подходит ли в этом сценарии использование Docker-контейнеров или лучше подойдёт виртуальная машина, физическая машина? Может быть, возможны разные варианты?»

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

- высоконагруженное монолитное Java веб-приложение;
- Nodejs веб-приложение;
- мобильное приложение c версиями для Android и iOS;
- шина данных на базе Apache Kafka;
- Elasticsearch-кластер для реализации логирования продуктивного веб-приложения — три ноды elasticsearch, два logstash и две ноды kibana;
- мониторинг-стек на базе Prometheus и Grafana;
- MongoDB как основное хранилище данных для Java-приложения;
- Gitlab-сервер для реализации CI/CD-процессов и приватный (закрытый) Docker Registry.

***
> ### Mikhail K
> Со слов chatGPT :)
>
> Высоконагруженное монолитное Java веб-приложение: <b>Docker-контейнер.</b>
> Обоснование: Docker-контейнеры обеспечивают изоляцию, масштабируемость и гибкость развертывания для высоконагруженных приложений, позволяя эффективно использовать ресурсы и упрощать управление.
>
> Node.js веб-приложение: <b>Docker-контейнер.</b>
> Обоснование: Docker-контейнеры обеспечивают единообразное окружение и упрощают процесс развертывания Node.js приложений, что способствует ускорению разработки и обеспечивает надежность в производственной среде.
> 
> Мобильное приложение с версиями для Android и iOS: <b>Виртуальная машина.</b>
> Обоснование: Виртуальные машины позволяют иметь доступ к разным операционным системам, что полезно при разработке и тестировании мобильных приложений на разных платформах.
> 
> Шина данных на базе Apache Kafka: <b>Docker-контейнер.</b>
> Обоснование: Docker-контейнеры обеспечивают гибкость и масштабируемость развертывания Kafka брокеров и компонентов шины данных, что упрощает управление и обеспечивает надежность.
> 
> Elasticsearch-кластер для реализации логирования продуктивного веб-приложения: <b>Docker-контейнер.</b>
> Обоснование: Docker-контейнеры позволяют легко создавать и масштабировать Elasticsearch, Logstash и Kibana ноды, обеспечивая гибкость и упрощение управления для логирования приложения.
> 
> Мониторинг-стек на базе Prometheus и Grafana: <b>Docker-контейнер.</b>
> Обоснование: Docker-контейнеры обеспечивают удобство развертывания и масштабируемость инфраструктуры мониторинга, что позволяет эффективно управлять и анализировать данные мониторинга.
> 
> MongoDB как основное хранилище данных для Java-приложения: <b>Docker-контейнер.</b>
> Обоснование: Docker-контейнеры обеспечивают простоту развертывания и управления MongoDB, позволяя эффективно использовать ресурсы и обеспечивая гибкость в разработке и развертывании приложений.
> 
> Gitlab-сервер для реализации CI/CD-процессов и приватный Docker Registry: <b>Docker-контейнер.</b>
> Обоснование: Docker-контейнеры позволяют легко развертывать Gitlab-сервер и приватный Docker Registry, обеспечивая гибкость и удобство в управлении CI/CD-процессами и контейнерами.

***

## Задача 3

- Запустите первый контейнер из образа ***centos*** c любым тегом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера.
- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера.
- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```.
- Добавьте ещё один файл в папку ```/data``` на хостовой машине.
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.

***
> ### Mikhail K
> - centos
> ```bash
> vagrant@ubserver-dev:~/05-virt-02-iaac/virtd-homeworks-main/05-virt-03-docker$ docker run -d -v ~/05-virt-02-iaac/virtd-homeworks-main/05-virt-03-docker/data:/data centos
> ```
> - debian
> ```bash
> vagrant@ubserver-dev:~/05-virt-02-iaac/virtd-homeworks-main/05-virt-03-docker$ docker run -d -v ~/05-virt-02-iaac/virtd-homeworks-main/05-virt-03-docker/data:/data debian
> ```
> ```bash
> # docker-compose -f ~/virtd-homeworks-main/05-virt-03-docker/_task3/docker-compose1.yaml up -d
> docker-compose -f ~/mountpoint2/_transfer/src/docker-compose1.yaml up -d
> vagrant@ubserver-dev:~$ docker exec debi01 sh -c 'echo "debi01" >> /data/3.txt'
> vagrant@ubserver-dev:~$ docker exec debi01 cat /data/3.txt
> debi01
> vagrant@ubserver-dev:~$ docker exec cent01 sh -c 'echo "cent01" >> /data/3.txt'
> vagrant@ubserver-dev:~$ docker exec cent01 cat /data/3.txt
> debi01
> cent01
> ```
***

## Задача 4 (*)

Воспроизведите практическую часть лекции самостоятельно.

Соберите Docker-образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.

***
> ## Mikhail K
> [devmikhailk docker repo alpine](https://hub.docker.com/r/devmikhailk/alpine/tags)
***

---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---

